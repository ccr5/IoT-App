<Setup>

	Screen:

		name: 'main'

		GridLayout:

			cols: 1
			rows: 4

			canvas.before:
				Color:
					rgba: 180, 180, 180, 0.8
				Rectangle:
					pos: self.pos
					size: self.size

			BoxLayout:

				orientation: 'horizontal'

				ActionBar:
					pos_hint: {'top':1}
					background_color: 0, 0, 0, 0.3

					ActionView:

						ActionPrevious:
							with_previous: False
							app_icon: ''
							app_icon_width: 0

						ActionLabel:
							text: 'IoT Project'

			BoxLayout:

				orientation: 'horizontal'

				ActionBar:
					pos_hint: {'bottom':1}
					background_color: 0, 3, 0, 0.4

					ActionView:

						ActionPrevious:
							with_previous: False
							app_icon: ''
							app_icon_width: 50
							app_icon_height: 50

						ActionGroup:
							text: 'Menu'

							ActionButton:
								id: management
								text: 'Gestão'
								background_color: 0, 3, 0, 0.5
								on_release: root.current = 'managementscreen'

							ActionButton:
								id: security
								text: 'Segurança'
								background_color: 0, 3, 0, 0.5
								on_release: root.current = 'securityscreen'

							ActionButton:
								id: extra
								text: 'Extra'
								background_color: 0, 3, 0, 0.5
								on_release: root.current = 'extrascreen'

	ManagementScreen:
		name: 'managementscreen'

	SecurityScreen:
		name: 'securityscreen'

	ExtraScreen:
		name: 'extrascreen'

<ManagementScreen>:
	
	canvas.before:
		Color:
			rgba: 180, 180, 180, 0.8
		Rectangle:
			pos: self.pos
			size: self.size
	
	GridLayout:

		cols: 1
		rows: 3

		ActionBar:
			pos_hint: {'top':1}
			background_color: 0, 0, 0, 0.3

			ActionView:

				ActionPrevious:
					app_icon: ''
					app_icon_width: 0
					on_release: app.root.current = 'main'

				ActionLabel:
					text: 'Gestão de Equipamentos'

		GridLayout:

			cols: 2
						
			Button:
				background_normal: './images/door.png'
				size_hint: None, None
				size: 100, 100
				on_release: root.send_post('http://192.168.43.10/door')

			Label:
				text: ''

			Button:
				background_normal: './images/window.png'
				size_hint: None, None
				size: 100, 100
				on_release: root.send_post('192.168.1.34/')

			Label:
				text: ''

			Button:
				background_normal: './images/lamp.png'
				size_hint: None, None
				size: 100, 100
				on_release: root.send_post('http://192.168.43.11/lamp')

			Label:
				text: ''

<SecurityScreen>:
	
	canvas.before:
		Color:
			rgba: 180, 180, 180, 0.8
		Rectangle:
			pos: self.pos
			size: self.size

	GridLayout:

		cols: 1

		ActionBar:
			pos_hint: {'top':1}
			background_color: 0, 0, 0, 0.3

			ActionView:

				ActionPrevious:
					app_icon: ''
					app_icon_width: 30
					on_release: app.root.current = 'main'

				ActionLabel:
					text: 'Segurança'

		ScrollView:
		    do_scroll_x: False
		    do_scroll_y: True

		    Label:
		    	size_hint: 1, None
		    	text_size: self.width, None
		    	size: self.texture_size
		        text:
		        	'\nSegundo o DEIC (Departamento de Investigações Criminais), foram registrados 6.452 casos de furtos e roubos a residências em condomínios no primeiro semestre deste ano na capital de São Paulo, trazendo medo e insegurança aos moradores conforme salienta a pesquisa da CRISP (Centro de Estudos de Criminalidade e Segurança Pública) em parceria com o instituto de pesquisa Datafolha que constatou que cerca de 71,9% da população brasileira tem medo da casa ser invadida.\n\nO sistema desenvolvido faz parte da área de IoT (Internet das coisas) que conforme Zambrano et al. (2016) vai além de um ambiente inteligente; é ser capaz de conectar os aparelhos físicos no smartphone dando solução para muitos problemas que temos atualmente e, em especial a segurança, tema de nossa pesquisa científica. Nosso projeto visa solucionar os problemas de segurança presente em todo mundo desenvolvendo um sistema de automação remoto onde os usuários acessam os elementos de entrada e saída (Ex: portas, janelas) da residência ou estabelecimento através de um aplicativo conectado a rede e envie comandos diretos aos elementos ou permita que o sistema através de câmeras de segurança, a partir da detecção de atividades no local , tranque automaticamente os elementos.\n\nO comando é transmitido via internet até a central de processamento que identifica qual elemento foi requisitado e qual função será executada e transmitir para os microcontroladores para executar as ações.'

<ExtraScreen>:
	
	canvas.before:
		Color:
			rgba: 180, 180, 180, 0.8
		Rectangle:
			pos: self.pos
			size: self.size

	GridLayout:

		cols: 1

		ActionBar:
			pos_hint: {'top':1}
			background_color: 0, 0, 0, 0.3

			ActionView:

				ActionPrevious:
					app_icon: ''
					app_icon_width: 30
					on_release: app.root.current = 'main'

				ActionLabel:
					text: 'Conteúdos Extras'

		ScrollView:
		    do_scroll_x: False
		    do_scroll_y: True

		    Label:
		    	size_hint: 1, None
		    	text_size: self.width, None
		    	size: self.texture_size
		        text: 'Aqui vai mostrar os resultados do protótipo do Lucas'
